# GI Select - Interactive .gitignore Generator

## Purpose

I needed a more usable way to maintain gitignore files across different projects, with plans to enhance this further in the future.

## Overview

This script helps create a `.gitignore` from `github.com/github/gitignore`'s list of files using an interactive selection interface.

## Requirements

- `gum` for interactive selection interface
- Git repository of gitignore templates (cloned locally)

## Setup

1. Clone the gitignore repository to `~/code/tools/gitignore`:
   ```bash
   git clone https://github.com/github/gitignore.git ~/code/tools/gitignore
   ```

2. Install `gum` for the interactive interface:
   ```bash
   # Ubuntu/Debian
   sudo apt install gum
   
   # macOS
   brew install gum
   
   # Or install via their repository
   sudo mkdir -p /etc/apt/keyrings
   curl -fsSL https://repo.charm.sh/apt/gpg.key | sudo gpg --dearmor -o /etc/apt/keyrings/charm.gpg
   echo "deb [signed-by=/etc/apt/keyrings/charm.gpg] https://repo.charm.sh/apt/ * *" | sudo tee /etc/apt/sources.list.d/charm.list
   sudo apt update && sudo apt install gum
   ```

3. Optionally, link the script for convenient access:
   ```bash
   ln -s /path/to/gi-select.sh ~/.local/bin/gi-select
   ```

## Usage

```bash
./gi-select.sh
# or if linked:
gi-select
```

## Features

- **Interactive Selection**: Uses gum to provide a beautiful multi-select interface
- **Multiple Templates**: Select multiple gitignore templates to combine
- **Language Detection**: Automatically suggests relevant templates based on project files
- **Preview**: Shows content of selected templates before applying
- **Safe Operations**: Backs up existing .gitignore files before overwriting

## How It Works

1. **Template Discovery**: Scans the gitignore repository for available templates
2. **Interactive Selection**: Presents a searchable, multi-select list of templates
3. **Content Combination**: Merges selected templates with appropriate headers
4. **File Generation**: Creates or updates .gitignore in the current directory

## Example Interface

![gi-select interface](gi-select.png)

The interface provides:
- Searchable list of available gitignore templates
- Multi-select capability (use Space to select, Enter to confirm)
- Template descriptions and file sizes
- Preview of selected content

## Template Categories

The script organizes templates by category:

### Languages
- Python, JavaScript, Java, C++, Rust, Go, etc.
- Framework-specific templates (Django, React, Laravel, etc.)

### IDEs and Editors
- Visual Studio, IntelliJ, Xcode, Sublime Text
- VS Code, Vim, Emacs configurations

### Operating Systems
- Windows, macOS, Linux
- Platform-specific temporary files and folders

### Tools and Services
- Docker, Terraform, Vagrant
- Cloud providers (AWS, Azure, GCP)
- Package managers (npm, pip, composer)

## Output Format

Generated .gitignore files include:
- Clear section headers for each template
- Comments indicating source templates
- Organized structure for easy maintenance

### Example Output
```gitignore
# Generated by gi-select from github/gitignore templates
# Templates: Python, VisualStudioCode, macOS

# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
build/
...

# VisualStudioCode
.vscode/*
!.vscode/settings.json
!.vscode/tasks.json
...

# macOS
.DS_Store
.AppleDouble
.LSOverride
...
```

## Workflow Examples

### New Project Setup
```bash
cd my-new-project
gi-select
# Select: Python, VisualStudioCode, macOS
# Creates .gitignore with combined templates
```

### Adding to Existing Project
```bash
cd existing-project
gi-select
# Script detects existing .gitignore
# Option to backup and merge or replace
```

### Language-Specific Projects
```bash
# For Python projects
gi-select
# Search for "python" and select Python-related templates

# For Node.js projects
gi-select  
# Search for "node" and select Node.js templates
```

## Advanced Features

### Automatic Language Detection
The script can analyze your project directory and suggest relevant templates:
- Detects common file extensions
- Identifies framework configuration files
- Suggests appropriate templates based on findings

### Template Caching
- Caches template list for faster subsequent runs
- Automatic updates when gitignore repository is updated
- Offline mode for cached templates

### Custom Templates
- Support for custom template directories
- User-defined template repositories
- Local template overrides

## Configuration

### Environment Variables
- `GITIGNORE_REPO_PATH`: Custom path to gitignore repository
- `GI_SELECT_CACHE_DIR`: Cache directory for template metadata
- `GI_SELECT_BACKUP`: Enable/disable automatic backups

### Config File
Optional `~/.config/gi-select/config` for default settings:
```ini
repo_path = ~/code/tools/gitignore
backup_existing = true
auto_detect = true
```

## Integration

### Git Hooks
Can be integrated with git hooks for automatic setup:
```bash
# .git/hooks/post-checkout
#!/bin/bash
if [ ! -f .gitignore ]; then
    gi-select --auto
fi
```

### Project Templates
Use with project scaffolding tools:
```bash
# In project template script
gi-select --languages python,docker --no-interactive
```

## Troubleshooting

### Common Issues

1. **Gitignore repository not found**: Ensure repository is cloned to expected location
2. **Gum not available**: Install gum or script will fall back to basic mode
3. **Permission errors**: Check write permissions in project directory
4. **Template not found**: Update gitignore repository with `git pull`

### Updating Templates

```bash
cd ~/code/tools/gitignore
git pull origin main
```

This updates the local template repository with the latest gitignore patterns.

## Future Enhancements

Planned improvements include:
- Better language detection algorithms
- Integration with popular project scaffolding tools
- Template customization and user overrides
- Cloud-based template sharing
- IDE plugin development